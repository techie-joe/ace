/*! For license information please see theme_v1.0.js.LICENSE.txt */
(()=>{"use strict";(()=>{const e=window,t=document,r=t.documentElement||t.body,s=e=>typeof e,a=e=>Object.prototype.toString.call(e),n=null,o="",c=s(o),m=a([]),l=e=>s(e)===c,i=Array.isArray||(e=>a(e)===m),h=e=>{throw"Fail to "+e},d=(e,t,r,s)=>{e.addEventListener(t,r,s)},g=(e,t)=>new RegExp(e,t),u=(e,t,r)=>{try{const s=" ",a="|",n="g",c=g("[\\.\\|\\s]+",n),m=(e,t=a)=>e.trim().replace(c,t).trim(),l=r?m(r,s):o,i=t?m([t,l].join(s)).trim():o,h=g("(^|\\s+)("+i+")(\\s*("+i+"))*(\\s+|$)",n),d=e.className.replace(h,s).trim()+(l.length?s+l:o);return e.className=d,e}catch(e){h("updateClass")}},p=(()=>{const{localStorage:t}=e,r=e=>{e?t.removeItem(e):h("remove "+e)};return{set:(e,s)=>{e?l(s)?t.setItem(e,s):r(e):h("set "+e)},get:e=>e?t.getItem(e):(h("get "+e),n),remove:r}})(),v=(()=>{const s="theme",a="themes",c="_dark",m=(()=>{const e="color-scheme";var r=t.getElementById("_color_scheme");if(!r){var s=t.getElementsByName(e);i(s)&&(r=s[s.length-1])}if(!r){r=t.createElement("meta");var a=[["name",e]];for(var n in a)r.setAttribute(a[n][0],a[n][1]);t.head.appendChild(r)}return{set:e=>{null==r||r.setAttribute("content",e)}}})(),h=(e,t)=>{var n=N||o;i(e)&&(b=e,p.set(a,JSON.stringify(b)),e=b[l(t)?b.indexOf(t||o):0]),N=l(e)&&e||o,u(r,n,N),v(N),p.set(s,N)},g=()=>{h(b[b.indexOf(N||o)+1]||o)},v=e=>{(e=>e&&e.substring(0,5)===c)(e)?m.set("dark"):m.set("light")},y=e.matchMedia("(prefers-color-scheme: dark)");var f=(e=>{try{return e&&JSON.parse(e)}catch(t){console.error("Fail to parse stored themes: "+e)}return n})(p.get(a)),E=p.get(s),b=f||[c],N=l(E)?E:y.matches?c:o;return u(r,n,N),d(y,"change",(e=>{e.matches?h(c):h()})),d(e,"keyup",(e=>{e.altKey&&"KeyT"===e.code&&g()})),{reset:()=>{b=[c];var e=N||o;N=y.matches?c:o,u(r,e,N),v(N),p.remove(s),p.remove(a)},set:h,change:g,list:()=>b,current:()=>N,fn:{updateClass:u,storage:p}}})();e.theme=v})()})();