(()=>{"use strict";((e="")=>{const t=window,r=document,a=r.documentElement||r.body,s=e=>typeof e,n=e=>Object.prototype.toString.call(e),o="",c=s(o),m=n([]),l=e=>s(e)===c,i=Array.isArray||(e=>n(e)===m),d=e=>{throw"Fail to "+e},h=(e,t,r,a)=>{e.addEventListener(t,r,a)},g=(e,t)=>new RegExp(e,t),u=(e,t,r)=>{try{const a=" ",s="|",n="g",c=g("[\\.\\|\\s]+",n),m=(e,t=s)=>e.trim().replace(c,t).trim(),l=r?m(r,a):o,i=t?m([t,l].join(a)).trim():o,d=g("(^|\\s+)("+i+")(\\s*("+i+"))*(\\s+|$)",n),h=e.className.replace(d,a).trim()+(l.length?a+l:o);return e.className=h,e}catch(e){d("updateClass")}},p=(e,t,r)=>{e.setAttribute(t,r)},v=(()=>{const{localStorage:e}=t,r=t=>{t?e.removeItem(t):d("remove "+t)};return{set:(t,a)=>{t?l(a)?e.setItem(t,a):r(t):d("set "+t)},get:t=>t?e.getItem(t):(d("get "+t),null),remove:r}})();(()=>{const s="theme",n="themes",c="_dark",m="color-scheme",d=(O=(()=>{var e=r.getElementById("_color_scheme");if(!e){var t=r.getElementsByName(m);i(t)&&(e=t[t.length-1])}if(!e){e=r.createElement("meta");var a=[["name",m]];for(var s in a)p(e,a[s][0],a[s][1]);r.head&&r.head.appendChild(e)}return e})(),{set:e=>{O&&p(O,"content",e)}}),g=(e,t)=>{var r=w||o;i(e)&&(k=e,v.set(n,JSON.stringify(k)),e=k[l(t)?k.indexOf(t||o):0]),w=l(e)&&e||o,u(a,r,w),b(w),v.set(s,w)},y=()=>{g(k[k.indexOf(w||o)+1]||o)},f=()=>{k=[c];var e=w||o;w=E.matches?c:o,u(a,e,w),b(w),v.remove(s),v.remove(n)},b=e=>{e&&"_d"===e.substring(0,2)?d.set("dark"):d.set("light")},E=t.matchMedia("(prefers-color-scheme: dark)");var O,N;if(N=t.location.hostname,e.indexOf(btoa(N).substring(0,5))>=0){var _=(e=>{try{return e&&JSON.parse(e)}catch(t){console.error("Fail to parse stored themes: "+e)}return null})(v.get(n)),j=v.get(s),k=_||[c],w=l(j)?j:E.matches?c:o;u(a,"_hidden",w),b(w),h(E,"change",(e=>{e.matches?g(c):g()})),h(t,"keyup",(e=>{e.altKey&&"KeyT"===e.code&&y()})),t.theme={reset:f,set:g,change:y,list:()=>k,current:()=>w,fn:{updateClass:u,storage:v}}}})()})("bG9jY dGVja dGhlb cHJld")})();