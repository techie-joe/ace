/*! For license information please see ace_thm.js.LICENSE.txt */
(()=>{"use strict";(()=>{const e=window,t=document,r=t.documentElement||t.body,s=e=>typeof e,a=e=>Object.prototype.toString.call(e),c="",n=s(c),o=a([]),m=e=>s(e)===n,l=Array.isArray||(e=>a(e)===o),i=e=>{(e=>{throw e})("Fail to "+e)},d=(e,t,r,s)=>{e.addEventListener(t,r,s)},g=(e,t)=>new RegExp(e,t),h=(e,t,r)=>{try{const s=" ",a="|",n="g",o=g("[\\.\\|\\s]+",n),m=(e,t=a)=>e.trim().replace(o,t).trim(),l=r?m(r,s):c,i=t?m([t,l].join(s)).trim():c,d=g("(^|\\s+)("+i+")(\\s*("+i+"))*(\\s+|$)",n),h=e.className.replace(d,s).trim()+(l.length?s+l:c);return e.className=h,e}catch(e){i("updateClass")}},u=(()=>{const{localStorage:t}=e,r=e=>{e?t.removeItem(e):i("remove "+e)};return{set:(e,s)=>{e?m(s)?t.setItem(e,s):r(e):i("set "+e)},get:e=>e?t.getItem(e):(i("get "+e),null),remove:r}})(),p=(()=>{const t="theme",s="themes",a="_dark",n=(e,a)=>{var n=f||c;l(e)&&(v=e,u.set(s,JSON.stringify(v)),e=v[a?v.indexOf(a||c):0]),f=m(e)?e:c,h(r,n,f),u.set(t,f)},o=()=>{n(v[v.indexOf(f||c)+1]||c)},i=e.matchMedia("(prefers-color-scheme: dark)"),g=i.matches;var p=u.get(t),y=u.get(s),v=y?JSON.parse(y):[a],f=m(p)?p:g?a:c;return h(r,null,f),d(i,"change",(e=>{e.matches?n(a):n()})),d(e,"keyup",(e=>{e.altKey&&"KeyT"===e.code&&o()})),{set:n,change:o,list:()=>v,current:()=>f}})(),y={updateClass:h,storage:u};e.theme=p,e.ace=y})()})();